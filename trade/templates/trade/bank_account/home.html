{% extends 'users/base.html' %}
{% load custom_tags %}
{% load static %}

{% block content %}
<div class="container-fluid mt-3">
    <div class="row">
        <div class="col">
            <h3 class="text-center">Bank Account Home Page</h3>
            
        </div>
    </div>
    <div class="row">
        <nav class="col-sm-2 bg-dark ml-3">
            <button
                class="navbar-toggler bg-light mt-1 mb-1 float-right myBtn"
                type="button"
                data-toggle="collapse"
                data-target="#Dropdown2"
                aria-controls="Dropdown2"
                aria-expanded="true"
                aria-label="toggle navigation">
                <i class="fa fa-navicon fa-1x text-primary"></i>
            </button>
            <div class="collapse collapse-sm" id="Dropdown2">
                <ul class="nav flex-column mt-3">
                    <li class="text-white"><i class="fa fa-minus text-warning"></i>Bank Account</li>
                    <!-- <li class="nav-item">
                        <a href="{% url 'bank-account-create' %}" class="nav-link">
                            <i class="fa fa-plus text-warning"></i>
                            Add
                        </a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'bank-account-list' %}">
                            <i class="fa fa-edit text-warning"></i>
                            View & Update
                        </a>
                    </li>
                    
                    <hr class="dropdown-divider">
                    <li class="text-white"><i class="fa fa-minus text-warning"></i>Bank Balance</li>
                    <li class="nav-item">
                        <a href="{% url 'bank-balance-create' %}" class="nav-link"><i class="fa fa-plus text-warning"></i>
                            Add
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'bank-balance-list' %}">
                            <i class="fa fa-edit text-warning"></i>
                            View & Update
                        </a>
                    </li>
                    <hr class="dropdown-divider">

                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fa fa-question text-warning"></i> Help
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'home' %}">
                            <i class="fa fa-reply text-warning"></i> Return</a>
                    </li>
                </ul>
            </div>
        </nav>
        
        <div class="col-9">
            {% if no_object %}
            <h3 class="ml-3">No Record yet</h3>
            <a class="btn btn-primary btn-sm" href="{% url 'bank-balance-create' %}">Add Bank Balance</a>
            {% else %}
            <table class="table table-striped table-bordered" data-toggle="table">
                <caption>Bank balance as at {{current_date}}</caption>
                <thead class="">
                    <tr class="bg-dark text-white text-center">
                        <th>Account Name</th>
                        <th>Account Number</th>
                        <th>Banker</th>
                        <th>Bank Balance</th>
                        <th>AP Balance</th>
                        <th>(BB - AP)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for object in object_list %}
                    <tr>
                        <td><a href="{% url 'bank-balance-detail' object.pk %}">{{object.bank.nickname}}</a></td>
                        <td>{{object.bank.account_number}}</td>
                        <td>{{object.bank.bank}}</td>
                        <td class="text-right">{{object.bank_balance}}</td>
                        <td class="text-right">{{object.account_package_balance}}</td>
                        {% if object.delta >= 0 %}
                        <td class="text-right">{{object.delta}}</td>
                        {% else %}
                        <td class="text-right text-danger">{{object.delta|abs}}</td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                    
                </tbody>
            </table>
            {% endif %}
        </div>
        
    </div>
</div>
{% endblock%}